<!DOCTYPE html>
<html>
	<head>
		<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
		<meta content="utf-8" http-equiv="encoding">
		<title>CodeMirror</title>
    <script src="codemirror/lib/codemirror.js"></script>
    <link href="codemirror/lib/codemirror.css" rel="stylesheet"></link>
    <script src="codemirror/mode/xml/xml.js"></script>
    <script src="codemirror/addon/edit/closetag.js"></script>
    <link href="codemirror/theme/dracula.css" rel="stylesheet"></link>
	</head>
	<body>


		<textarea id="editor" oninput="alert('You just changed the textarea.')"><p>A paragraph</p></textarea>

    <script>
    	// var cm = CodeMirror.fromTextArea(document.getElementById('editor'), {
      //   mode: "xml",
      //   theme: "dracula",
      //   lineNumbers: true,
      //   autoCloseTags: true
      // });

			const editor = CodeMirror.fromTextArea(document.getElementById('editor'), {
		  mode: "xml",
		  lineNumbers: true,
		  autoCloseTags: true
		});
		editor.on('change', (editor) => {
		  const text = editor.doc.getValue()
		  console.log(text);
		});

    </script>

	</body>
</html>
